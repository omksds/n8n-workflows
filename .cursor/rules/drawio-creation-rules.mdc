---
globs: *.drawio
description: draw.ioファイル作成時の白黒シンプルスタイルのルール
---

# draw.io ファイル作成ルール

## 🎨 白黒シンプルスタイルの統一

### 基本スタイル設定

#### ノードのスタイル
```xml
style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;fontSize=12;fontColor=#000000;"
```

**必須要素:**
- `fillColor=#ffffff` - 背景色を白色に統一
- `strokeColor=#000000` - 枠線を黒色に統一
- `fontColor=#000000` - テキスト色を黒色に統一
- `fontSize=12` - フォントサイズを12に統一

#### 矢印のスタイル
```xml
style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#000000;fontColor=#000000;labelBackgroundColor=#ffffff;labelBorderColor=#000000;"
```

**必須要素:**
- `strokeColor=#000000` - 矢印線を黒色に統一
- `fontColor=#000000` - 矢印ラベルのテキスト色を黒色に統一
- `strokeWidth=2` - 線の太さを2に統一
- `labelBackgroundColor=#ffffff` - ラベル背景を白色に統一（可読性向上）
- `labelBorderColor=#000000` - ラベル枠線を黒色に統一

#### テキスト要素のスタイル
```xml
style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#000000;"
```

**必須要素:**
- `fontColor=#000000` - テキスト色を黒色に統一
- `strokeColor=none` - テキスト枠線なし
- `fillColor=none` - テキスト背景なし

### 色の統一ルール

#### 使用可能な色
- **白色**: `#ffffff` - 背景色専用
- **黒色**: `#000000` - 枠線、テキスト、矢印専用

#### 禁止色
- カラフルな色（緑、青、赤、黄など）
- グレー系の色
- その他の色

### ノードタイプ別スタイル

#### 1. トリガーノード
```xml
<mxCell id="trigger-node" value="&lt;b&gt;Trigger Name&lt;/b&gt;&lt;br&gt;詳細情報&lt;br&gt;設定値" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;fontSize=12;fontColor=#000000;" vertex="1" parent="1">
```

#### 2. 条件判定ノード
```xml
<mxCell id="condition-node" value="&lt;b&gt;Condition Name&lt;/b&gt;&lt;br&gt;判定条件&lt;br&gt;詳細" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;fontSize=12;fontColor=#000000;" vertex="1" parent="1">
```

#### 3. アクションノード
```xml
<mxCell id="action-node" value="&lt;b&gt;Action Name&lt;/b&gt;&lt;br&gt;実行内容&lt;br&gt;設定" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;fontSize=12;fontColor=#000000;" vertex="1" parent="1">
```

#### 4. 通知ノード
```xml
<mxCell id="notification-node" value="&lt;b&gt;Notification&lt;/b&gt;&lt;br&gt;通知内容&lt;br&gt;詳細" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;fontSize=12;fontColor=#000000;" vertex="1" parent="1">
```

### 矢印の分岐表示

#### 条件分岐の矢印
```xml
<mxCell id="condition-arrow" value="条件の場合" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#000000;fontColor=#000000;labelBackgroundColor=#ffffff;labelBorderColor=#000000;" edge="1" parent="1" source="source-node" target="target-node">
```

#### 通常フローの矢印
```xml
<mxCell id="normal-arrow" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#000000;fontColor=#000000;labelBackgroundColor=#ffffff;labelBorderColor=#000000;" edge="1" parent="1" source="source-node" target="target-node">
```

### 凡例のスタイル

#### 凡例タイトル
```xml
<mxCell id="legend-title" value="凡例" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#000000;" vertex="1" parent="1">
```

#### 凡例項目
```xml
<mxCell id="legend-item" value="項目名" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;fontSize=10;fontColor=#000000;" vertex="1" parent="1">
```

### 説明ボックスのスタイル

```xml
<mxCell id="description-box" value="&lt;b&gt;説明タイトル&lt;/b&gt;&lt;br&gt;詳細説明&lt;br&gt;項目1&lt;br&gt;項目2" style="text;html=1;strokeColor=#000000;fillColor=#ffffff;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=12;fontColor=#000000;" vertex="1" parent="1">
```

### ファイル構造の統一

#### 基本構造
```xml
<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="YYYY-MM-DDTHH:MM:SS.000Z" agent="5.0" etag="xxx" version="22.1.16" type="device">
  <diagram name="Diagram Name" id="diagram-id">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" background="#ffffff" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <!-- ノードと矢印の定義 -->
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
```

### 品質チェックリスト

#### 作成時の確認項目
- [ ] 全てのノードが白色背景、黒色枠線
- [ ] 全てのテキストが黒色
- [ ] 全ての矢印が黒色
- [ ] 矢印ラベルのテキストが黒色
- [ ] 矢印ラベルの背景が白色
- [ ] 矢印ラベルの枠線が黒色
- [ ] 凡例が白黒で統一
- [ ] 説明ボックスが白黒で統一
- [ ] カラフルな色が使用されていない

#### ファイル保存時の確認
- [ ] ファイル名が適切（例: `workflow-diagram.drawio`）
- [ ] ファイルが正しいディレクトリに保存
- [ ] XML形式が正しく記述
- [ ] 文字エンコーディングがUTF-8

### ワークフロー図式化のルール

#### ワークフロー図に含める要素
- **ノード**: ワークフローの各ステップ
- **矢印**: フローと分岐条件
- **タイトル**: ワークフロー名
- **説明**: フローの概要（必要に応じて）

#### ワークフロー図に含めない要素
- **凡例**: ノードタイプの説明は不要
- **装飾的な要素**: ワークフロー以外の視覚的要素
- **詳細な説明**: 長い説明文は避ける
- **余分な情報**: ワークフローに関係ない情報

#### ワークフロー図の構造
```
1. タイトル（ワークフロー名）
2. ノード（各ステップ）
3. 矢印（フローと分岐）
4. 簡潔な説明（必要最小限）
```

### ベストプラクティス

#### 1. 一貫性の維持
- 同じタイプのノードは同じスタイルを使用
- 分岐条件は矢印ラベルで明確に表示
- ワークフローに集中した構成

#### 2. 可読性の向上
- ノード内のテキストは簡潔に
- 重要な情報は太字で強調
- 適切な改行で情報を整理

#### 3. 拡張性の考慮
- 新しいノードタイプも白黒で統一
- 既存のスタイルパターンを再利用
- モジュール化された構造を維持

#### 4. ワークフロー中心の設計
- ワークフローの流れを最優先
- 不要な装飾は排除
- 機能的な情報のみ表示

### トラブルシューティング

#### よくある問題
1. **色が表示されない**: `fontColor=#000000` が設定されているか確認
2. **矢印が見えない**: `strokeColor=#000000` と `strokeWidth=2` を確認
3. **テキストが読みにくい**: `fontSize` と `fontColor` を確認
4. **矢印ラベルが読めない**: `labelBackgroundColor=#ffffff` と `labelBorderColor=#000000` を確認

#### 修正方法
- 色指定を `#000000`（黒）または `#ffffff`（白）に統一
- フォントサイズを適切に設定（12-20px）
- 背景色とテキスト色のコントラストを確保
- 矢印ラベルに背景色と枠線を追加して可読性を向上

このルールに従うことで、統一された白黒シンプルなdraw.ioファイルを作成できます。
